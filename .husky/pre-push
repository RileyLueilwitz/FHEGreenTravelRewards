#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸš€ Running pre-push checks..."

# Compile contracts
echo "ğŸ“¦ Compiling contracts..."
npm run compile

# Run full test suite
echo "ğŸ§ª Running full test suite..."
npm test

# Run coverage
echo "ğŸ“Š Generating coverage report..."
npm run test:coverage

# Run gas reporter
echo "â›½ Generating gas report..."
npm run test:gas

# Run security analysis
echo "ğŸ” Running security analysis..."
npm run security || true

echo "âœ… Pre-push checks passed!"
